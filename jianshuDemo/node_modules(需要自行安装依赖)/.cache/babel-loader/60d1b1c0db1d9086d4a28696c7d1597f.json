{"ast":null,"code":"import { fromJS } from 'immutable';\nimport * as constants from './constants';\nvar defaulfState = fromJS({\n  topicList: [],\n  articleList: [],\n  recommendList: [],\n  writerList: [],\n  articlePage: 0,\n  showScroll: false\n});\n\nvar changeHomeData = function changeHomeData(state, action) {\n  return state.merge({\n    topicList: fromJS(action.topicList),\n    articleList: fromJS(action.articleList),\n    recommendList: fromJS(action.recommendList),\n    writerList: fromJS(action.writerList)\n  });\n};\n\nvar addArticleList = function addArticleList(state, action) {\n  // return state.set('articleList', state.get('articleList').concat(action.list))\n  return state.merge({\n    'articleList': state.get('articleList').concat(action.list),\n    'articlePage': action.nextPage\n  });\n};\n\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaulfState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  // 代码优化\n  switch (action.type) {\n    case constants.CHANGE_HOME_DATA:\n      return changeHomeData(state, action);\n\n    case constants.ADD_ARTICLE_LIST:\n      return addArticleList(state, action);\n\n    case constants.TOGGLE_SCROLL_TOP:\n      return state.set('showScroll', action.show);\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/mac/Desktop/ReactJsDemo/jianshu/src/pages/home/store/reducer.js"],"names":["fromJS","constants","defaulfState","topicList","articleList","recommendList","writerList","articlePage","showScroll","changeHomeData","state","action","merge","addArticleList","get","concat","list","nextPage","type","CHANGE_HOME_DATA","ADD_ARTICLE_LIST","TOGGLE_SCROLL_TOP","set","show"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AAEA,IAAMC,YAAY,GAAGF,MAAM,CAAC;AACxBG,EAAAA,SAAS,EAAE,EADa;AAExBC,EAAAA,WAAW,EAAE,EAFW;AAGxBC,EAAAA,aAAa,EAAC,EAHU;AAIxBC,EAAAA,UAAU,EAAC,EAJa;AAKxBC,EAAAA,WAAW,EAAC,CALY;AAMxBC,EAAAA,UAAU,EAAE;AANY,CAAD,CAA3B;;AASA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD,EAAQC,MAAR,EAAmB;AACtC,SAAOD,KAAK,CAACE,KAAN,CAAY;AACfT,IAAAA,SAAS,EAAEH,MAAM,CAACW,MAAM,CAACR,SAAR,CADF;AAEfC,IAAAA,WAAW,EAAEJ,MAAM,CAACW,MAAM,CAACP,WAAR,CAFJ;AAGfC,IAAAA,aAAa,EAAEL,MAAM,CAACW,MAAM,CAACN,aAAR,CAHN;AAIfC,IAAAA,UAAU,EAAEN,MAAM,CAACW,MAAM,CAACL,UAAR;AAJH,GAAZ,CAAP;AAMH,CAPD;;AASA,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,CAACH,KAAD,EAAQC,MAAR,EAAmB;AACrC;AACA,SAAOD,KAAK,CAACE,KAAN,CAAY;AAChB,mBAAgBF,KAAK,CAACI,GAAN,CAAU,aAAV,EAAyBC,MAAzB,CAAgCJ,MAAM,CAACK,IAAvC,CADA;AAEhB,mBAAgBL,MAAM,CAACM;AAFP,GAAZ,CAAP;AAIJ,CAND;;AAQA,gBAAe,YAAkC;AAAA,MAAjCP,KAAiC,uEAAzBR,YAAyB;AAAA,MAAXS,MAAW;;AAC7C;AACA,UAAOA,MAAM,CAACO,IAAd;AACI,SAAKjB,SAAS,CAACkB,gBAAf;AACI,aAAOV,cAAc,CAACC,KAAD,EAAQC,MAAR,CAArB;;AACJ,SAAKV,SAAS,CAACmB,gBAAf;AACI,aAAOP,cAAc,CAACH,KAAD,EAAQC,MAAR,CAArB;;AACJ,SAAKV,SAAS,CAACoB,iBAAf;AACI,aAAOX,KAAK,CAACY,GAAN,CAAU,YAAV,EAAwBX,MAAM,CAACY,IAA/B,CAAP;;AACJ;AACI,aAAOb,KAAP;AARR;AAUH,CAZD","sourcesContent":["import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaulfState = fromJS({\n    topicList: [],\n    articleList: [],\n    recommendList:[],\n    writerList:[],\n    articlePage:0,\n    showScroll: false\n});\n\nconst changeHomeData = (state, action) => {\n    return state.merge({\n        topicList: fromJS(action.topicList),\n        articleList: fromJS(action.articleList),\n        recommendList: fromJS(action.recommendList),\n        writerList: fromJS(action.writerList)\n    })\n}\n\nconst addArticleList = (state, action) => {\n     // return state.set('articleList', state.get('articleList').concat(action.list))\n     return state.merge({\n        'articleList' : state.get('articleList').concat(action.list),\n        'articlePage' : action.nextPage\n    })\n}\n\nexport default (state = defaulfState, action) => {\n    // 代码优化\n    switch(action.type){\n        case constants.CHANGE_HOME_DATA:\n            return changeHomeData(state, action);\n        case constants.ADD_ARTICLE_LIST:\n            return addArticleList(state, action)\n        case constants.TOGGLE_SCROLL_TOP:\n            return state.set('showScroll', action.show);\n        default:\n            return state;\n    } \n} "]},"metadata":{},"sourceType":"module"}